

# 建立多進程



## 建立簡單的多進程

主程序會等待我們創建的子程序執行完畢。

~~~python
import multiprocessing

def say_hello_to(name):
    print(name)

if __name__ == '__main__':
    mp = multiprocessing.Process(target=say_hello_to, args=('edwin', ), daemon=False)        	
    mp.start()	# 開始執行       
    mp.join()   # 阻塞主程序並且等待子程序執行完畢，然後主程序才會繼續運行
    print("主程序執行完畢")
~~~

執行結果：

~~~python
edwin
主程序執行完畢
~~~



## 透過繼承的方式創建進程

透過繼承的方式建立一個屬於自己的進程，需要覆寫 run() 方法

~~~python
from multiprocessing import Process
import time

class MyProcess(Process):
    def __init__(self, arg):
        super().__init__()	# 需要先呼叫父類別
        self.arg = arg        

    def run(self):
        print('say hello : ', self.arg)
        time.sleep(0.5)

if __name__ == '__main__':
    for i in range(10):
        p = MyProcess(i)
        p.start()
~~~

執行結果 :

~~~python
say hello :  1
say hello :  4
say hello :  9
say hello :  3
say hello :  7
say hello :  0
say hello :  5
say hello :  8
say hello :  6
say hello :  2
~~~



